{"ast":null,"code":"var _jsxFileName = \"/Users/clarksmith/Desktop/Programming/capstone2/frontend/src/searchBlock/SearchBlock.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./SearchBlock.css\";\nimport SearchForm from \"../common/SearchForm\";\nimport YahooFinanceApi from \"../api/YahooFinanceApi\";\nimport Stockinfo from \"../stockinfo/Stockinfo\";\nimport ChaseLoading from \"../chaseloading/ChaseLoading\";\nimport { SEARCH_TICKER_DATA } from \"../actions/types\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst SearchBlock = () => {\n  const dispatch = useDispatch();\n  const tickerData = useSelector(store => store.searchTickerData);\n  const [loading, setLoading] = useState(false);\n  const [noResults, setNoResults] = useState(\"\");\n  useEffect(() => {\n    dispatch({\n      type: SEARCH_TICKER_DATA,\n      tickerData: null\n    });\n  }, [dispatch]);\n\n  async function search(ticker) {\n    dispatch({\n      type: SEARCH_TICKER_DATA,\n      tickerData: null\n    });\n    setNoResults(null);\n    setLoading(true);\n    let timer;\n\n    function timeOut() {\n      timer = setTimeout(() => {\n        setNoResults(\"Search Timed Out, Try Again\");\n        setLoading(false);\n        return;\n      }, 5000);\n    }\n\n    timeOut();\n    const response = await YahooFinanceApi.searchTicker(ticker);\n    setLoading(false);\n\n    if (response.length === 0) {\n      setNoResults(\"No Results Found\");\n    } else {\n      dispatch({\n        type: SEARCH_TICKER_DATA,\n        tickerData: response[0]\n      });\n    }\n\n    clearTimeout(timer);\n  }\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"SearchBlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SearchBlock-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SearchBlock-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchForm, {\n    search: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ChaseLoading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  })) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SearchBlock-no-results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, noResults ? noResults : \"\"), tickerData ? /*#__PURE__*/React.createElement(Stockinfo, {\n    ticker: tickerData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 23\n    }\n  }) : \"\"));\n};\n\nexport default SearchBlock;","map":{"version":3,"sources":["/Users/clarksmith/Desktop/Programming/capstone2/frontend/src/searchBlock/SearchBlock.js"],"names":["React","useEffect","useState","SearchForm","YahooFinanceApi","Stockinfo","ChaseLoading","SEARCH_TICKER_DATA","useDispatch","useSelector","SearchBlock","dispatch","tickerData","store","searchTickerData","loading","setLoading","noResults","setNoResults","type","search","ticker","timer","timeOut","setTimeout","response","searchTicker","length","clearTimeout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./SearchBlock.css\";\nimport SearchForm from \"../common/SearchForm\";\nimport YahooFinanceApi from \"../api/YahooFinanceApi\";\nimport Stockinfo from \"../stockinfo/Stockinfo\";\nimport ChaseLoading from \"../chaseloading/ChaseLoading\";\nimport { SEARCH_TICKER_DATA } from \"../actions/types\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst SearchBlock = () => {\n  const dispatch = useDispatch();\n  const tickerData = useSelector((store) => store.searchTickerData);\n  const [loading, setLoading] = useState(false);\n  const [noResults, setNoResults] = useState(\"\");\n\n  useEffect(() => {\n    dispatch({ type: SEARCH_TICKER_DATA, tickerData: null });\n  }, [dispatch]);\n  async function search(ticker) {\n    dispatch({ type: SEARCH_TICKER_DATA, tickerData: null });\n    setNoResults(null);\n    setLoading(true);\n    let timer;\n\n    function timeOut() {\n      timer = setTimeout(() => {\n        setNoResults(\"Search Timed Out, Try Again\");\n        setLoading(false);\n        return;\n      }, 5000);\n    }\n    timeOut();\n    const response = await YahooFinanceApi.searchTicker(ticker);\n    setLoading(false);\n\n    if (response.length === 0) {\n      setNoResults(\"No Results Found\");\n    } else {\n      dispatch({ type: SEARCH_TICKER_DATA, tickerData: response[0] });\n    }\n    clearTimeout(timer);\n  }\n\n  return (\n    <section className=\"SearchBlock\">\n      <div className=\"SearchBlock-card\">\n        {/* <h3 className=\"Home-title\">Search Stock</h3> */}\n\n        <div className=\"SearchBlock-search\">\n          <SearchForm search={search} />\n        </div>\n        <div className=\"results\">\n          {loading ? (\n            <div>\n              <ChaseLoading />\n              <br />\n              <br />\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n        <div className=\"SearchBlock-no-results\">\n          {noResults ? noResults : \"\"}\n        </div>\n        {tickerData ? <Stockinfo ticker={tickerData} /> : \"\"}\n      </div>\n    </section>\n  );\n};\n\nexport default SearchBlock;\n"]},"metadata":{},"sourceType":"module"}