{"ast":null,"code":"var _jsxFileName = \"/Users/clarksmith/Desktop/Programming/capstone2/react-test-marketupdate/src/auth/Login.js\";\nimport React, { useState } from \"react\";\nimport \"../common/SearchForm.css\";\nimport Alert from \"../helpers/Alert\";\nimport { useHistory } from \"react-router-dom\";\nimport ChaseLoading from \"../chaseloading/ChaseLoading\";\nimport { Button, Form, FormGroup } from \"reactstrap\";\nimport \"./Login.css\";\n\nconst Login = ({\n  login\n}) => {\n  const initialData = {\n    username: \"\",\n    password: \"\"\n  };\n  const [formData, setFormData] = useState(initialData);\n  const [formErrors, setFormErrors] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  function handleChange(evt) {\n    const {\n      name,\n      value\n    } = evt.target;\n    setFormData(data => ({ ...data,\n      [name]: value\n    }));\n  }\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    setLoading(true);\n    let result = await login(formData);\n\n    if (result.success) {\n      history.push(\"/watchlist\");\n    } else {\n      console.log(\"ER\", result.err);\n      setFormErrors(() => result.err);\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ChaseLoading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"Login-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"Login-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"Login-input\",\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    value: FormData.username,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"Login-input\",\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    value: FormData.password,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  })), formErrors ? /*#__PURE__*/React.createElement(Alert, {\n    type: \"danger\",\n    messages: formErrors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }) : null, /*#__PURE__*/React.createElement(Button, {\n    size: \"md\",\n    className: \"Login-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/clarksmith/Desktop/Programming/capstone2/react-test-marketupdate/src/auth/Login.js"],"names":["React","useState","Alert","useHistory","ChaseLoading","Button","Form","FormGroup","Login","login","initialData","username","password","formData","setFormData","formErrors","setFormErrors","loading","setLoading","history","handleChange","evt","name","value","target","data","handleSubmit","preventDefault","result","success","push","console","log","err","FormData"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"../common/SearchForm.css\";\nimport Alert from \"../helpers/Alert\";\nimport { useHistory } from \"react-router-dom\";\nimport ChaseLoading from \"../chaseloading/ChaseLoading\";\nimport { Button, Form, FormGroup } from \"reactstrap\";\nimport \"./Login.css\";\n\nconst Login = ({ login }) => {\n  const initialData = {\n    username: \"\",\n    password: \"\",\n  };\n  const [formData, setFormData] = useState(initialData);\n  const [formErrors, setFormErrors] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData((data) => ({ ...data, [name]: value }));\n  }\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault();\n    setLoading(true);\n    let result = await login(formData);\n\n    if (result.success) {\n      history.push(\"/watchlist\");\n    } else {\n      console.log(\"ER\", result.err);\n      setFormErrors(() => result.err);\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return (\n      <div className=\"Login\">\n        <ChaseLoading />\n      </div>\n    );\n  }\n  return (\n    <div className=\"Login\">\n      <div className=\"Login-block\">\n        <h3 className=\"Login-title\">Log In</h3>\n        <Form className=\"Login-form\" onSubmit={handleSubmit}>\n          <FormGroup>\n            <label htmlFor=\"username\">Username</label>\n            <br />\n            <input\n              className=\"Login-input\"\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              value={FormData.username}\n              onChange={handleChange}\n              required\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <label htmlFor=\"password\">Password</label>\n            <br />\n            <input\n              className=\"Login-input\"\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              value={FormData.password}\n              onChange={handleChange}\n              required\n            />\n            <br />\n          </FormGroup>\n          {formErrors ? <Alert type=\"danger\" messages={formErrors} /> : null}\n          <Button size=\"md\" className=\"Login-btn\">\n            Submit\n          </Button>\n          <br />\n          <br />\n        </Form>\n      </div>\n    </div>\n  );\n};\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}