(this["webpackJsonpreact-jobly"]=this["webpackJsonpreact-jobly"]||[]).push([[0],{159:function(e,t,n){},161:function(e,t,n){},170:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},196:function(e,t){},198:function(e,t){},211:function(e,t){},213:function(e,t){},241:function(e,t){},243:function(e,t){},244:function(e,t){},249:function(e,t){},251:function(e,t){},270:function(e,t){},282:function(e,t){},285:function(e,t){},303:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(149),c=n.n(s),i=(n(159),n(3)),u=n.n(i),o=n(6),l=n(7),j=(n(161),n(12)),p=n(304),b=n(305),m=n(306),h=a.a.createContext(),d=n(0);var O=function(e){var t=e.logOut,n=Object(r.useContext)(h).currentUser;return Object(d.jsx)("div",{children:Object(d.jsxs)(p.a,{className:"navbar",expand:"md",children:[Object(d.jsx)(j.c,{exact:!0,to:"/",className:"navbar-brand",children:"Jobly"}),Object(d.jsx)(b.a,{className:"ml-auto",navbar:!0,children:n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m.a,{children:Object(d.jsx)(j.c,{className:"navlinks",to:"/companies",children:"Companies"})}),Object(d.jsx)(m.a,{children:Object(d.jsx)(j.c,{className:"navlinks",to:"/jobs",children:"Jobs"})}),Object(d.jsx)(m.a,{children:Object(d.jsx)(j.c,{className:"navlinks",to:"/profile",children:"Profile"})}),Object(d.jsx)(m.a,{children:Object(d.jsxs)(j.c,{className:"navlinks-logout",to:"/",onClick:t,children:["Log Out ",n.username]})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m.a,{children:Object(d.jsx)(j.c,{className:"navlinks",to:"/login",children:"Login"})}),Object(d.jsx)(m.a,{children:Object(d.jsx)(j.c,{className:"navlinks",to:"/signup",children:"Sign Up"})})]})})]})})},f=n(9),x=n(307),v=n(308),g=n(309),y=n(310),N=(n(170),function(){var e=Object(r.useContext)(h).currentUser;return Object(d.jsx)("div",{className:"background",children:Object(d.jsx)("section",{className:"offset-md-2 col-md-8 Home col-md-8 ",children:Object(d.jsx)(x.a,{children:Object(d.jsxs)(v.a,{className:"text-center",children:[Object(d.jsx)(g.a,{children:Object(d.jsx)("h2",{className:"font-weight-bold",children:" Jobly"})}),Object(d.jsx)("p",{children:"All the jobs in one, convenient place"}),e?Object(d.jsxs)("h3",{children:["Welcome Back, ",e.firstName]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j.b,{to:"/signup",children:Object(d.jsx)(y.a,{className:"Home-btn",color:"primary",size:"sm",children:"Sign Up"})}),Object(d.jsx)(j.b,{to:"/login",children:Object(d.jsx)(y.a,{className:"Home-btn",color:"primary",size:"sm",children:"Login"})})]})]})})})})}),w=n(24),k=n(151),S=n(152),C=n(153),U=n.n(C),F="https://clark-jobly-backend.herokuapp.com/",q=function(){function e(){Object(k.a)(this,e)}return Object(S.a)(e,null,[{key:"request",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var r,a,s,c,i,o,l=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=l.length>2&&void 0!==l[2]?l[2]:"get",console.debug("API Call:",n,r,a),s="".concat(F,"/").concat(n),c={Authorization:"Bearer ".concat(e.token)},i="get"===a?r:{},t.prev=6,t.next=9,U()({url:s,method:a,data:r,params:i,headers:c});case 9:return t.abrupt("return",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error("API Error:",t.t0.response),o=t.t0.response.data.error.message,Array.isArray(o)?o:[o];case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJob",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.job);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompaniesJobs",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCompanies",value:function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies");case 2:return t=e.sent,e.abrupt("return",t.companies);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchCompanyByName",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies?name=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.companies);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllJobs",value:function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs");case 2:return t=e.sent,e.abrupt("return",t.jobs);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchJobByTitle",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs?title=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.jobs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getToken",value:function(){var t=Object(o.a)(u.a.mark((function t(n,r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("auth/token",{username:n,password:r},"post");case 2:return a=t.sent,e.token=a.token,t.abrupt("return",a.token);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"registerUser",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("auth/register",Object(w.a)({},n),"post");case 2:return r=t.sent,e.token=r.token,t.abrupt("return",r.token);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCurrentUserData",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearToken",value:function(){var t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.token="";case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"apply",value:function(){var e=Object(o.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t,"/jobs/").concat(n),{},"post");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(t.username,t.password);case 2:return e.sent,e.next=5,this.getCurrentUserData(t.username);case 5:return e.sent,e.next=8,this.request("users/".concat(t.username),{password:t.password,firstName:t.firstName,lastName:t.lastName,email:t.email},"patch");case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var D=function(e){if(e){var t=e.toString();-1!==t.indexOf("-")&&t.slice(1);for(var n=t.split("."),r=Object(l.a)(n,2),a=r[0],s=r[1],c=a.split("").reverse(),i=[],u=0;u<c.length;u++)u%3==0&&0!==u&&i.push(","),i.push(c[u]);return i.reverse(),s&&(i.push("."),i.push(s)),i.join("")}},L=(n(188),function(e){var t=e.job,n=Object(r.useState)("Apply"),a=Object(l.a)(n,2),s=a[0],c=a[1],i=Object(r.useContext)(h),u=i.apply,o=i.currentUser;function j(){u(o.username,t.id),c(t.id)}Object(r.useEffect)((function(){if(o){var e=o.applications.find((function(e){return e===t.id}));c(e)}}),[]);var p=D(t.salary);return Object(d.jsxs)("div",{className:"Job",children:[Object(d.jsxs)("h6",{className:"font-weight-bold",children:[" ",t.title]}),Object(d.jsx)("h6",{children:t.companyName}),Object(d.jsx)("br",{}),Object(d.jsxs)("p",{children:["Salary: ",p?"$".concat(p):"None"]}),Object(d.jsxs)("p",{children:["Equity: ",0!=t.equity&&t.equity?"".concat(t.equity," %"):"None",Object(d.jsx)("span",{children:s?Object(d.jsx)(y.a,{onClick:j,size:"sm",className:"Job-btn",color:"danger",disabled:!0,children:"Applied"}):Object(d.jsx)(y.a,{onClick:j,size:"sm",className:"Job-btn",color:"danger",children:"Apply"})})]})]})}),J=n(26),A=(n(45),function(e){var t=e.search,n=Object(r.useState)({searchTerm:""}),a=Object(l.a)(n,2),s=a[0],c=a[1];var i=function(){var e=Object(o.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(s.searchTerm);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"SearchForm m-4",children:Object(d.jsxs)("form",{className:"SearchForm-form form-inline ",onSubmit:i,children:[Object(d.jsx)("input",{className:"SearchForm-input flex-grow-1",type:"text",name:"searchTerm",id:"searchTerm",placeholder:"Enter search term...",value:FormData.searchTerm,onChange:function(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(J.a)({},n,r)}))}}),Object(d.jsx)(y.a,{size:"sm",color:"primary",className:"SearchForm-btn",children:"Submit"})]})})}),T=n(313),P=(n(189),function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!0),c=Object(l.a)(s,2),i=c[0],j=c[1],p=Object(r.useContext)(h),b=p.currentUser,m=p.updateCurrentUser;function O(){return(O=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.searchJobByTitle(t);case 2:n=e.sent,a((function(e){return n}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getAllJobs();case 2:t=e.sent,a(t),m(),j(!1);case 6:case"end":return e.stop()}}),e)}))),[]);var f=n.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(L,{job:e,currentUser:b})},Object(T.a)())}));return i?Object(d.jsx)("div",{children:"Loading ..."}):Object(d.jsx)("div",{className:"Jobs background",children:Object(d.jsxs)("div",{className:"Jobs-group col-md-8 offset-md-2",children:[Object(d.jsx)(A,{search:function(e){return O.apply(this,arguments)}}),Object(d.jsx)("div",{className:"Jobs-listings m-4",children:0===n.length?"Sorry, no results were found!":f})]})})}),E=(n(190),function(e){var t=e.company;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(j.b,{to:"/companies/".concat(t.handle),children:Object(d.jsxs)("section",{className:"Company",children:[Object(d.jsxs)("h4",{className:"font-weight-bold",children:[t.name,Object(d.jsx)("span",{children:t.logoUrl&&Object(d.jsx)("img",{width:"50px",className:"Company-logo",src:t.logoUrl,alt:t.name})})]}),Object(d.jsx)("p",{children:t.description})]})})})}),z=(n(90),function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!0),c=Object(l.a)(s,2),i=c[0],j=c[1];function p(){return(p=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.searchCompanyByName(t);case 2:n=e.sent,a((function(e){return n}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getAllCompanies();case 2:t=e.sent,a(t),j(!1);case 5:case"end":return e.stop()}}),e)}))),[]);var b=n.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(E,{company:e})},Object(T.a)())}));return i?Object(d.jsx)("div",{children:"Loading ..."}):Object(d.jsx)("div",{className:"Companies background",children:Object(d.jsxs)("div",{className:"Companies-group col-md-8 offset-md-2",children:[Object(d.jsx)(A,{search:function(e){return p.apply(this,arguments)}}),Object(d.jsx)("div",{className:"Companies-listings m-4",children:0===n.length?"Sorry, no results were found!":b})]})})}),B=(n(191),function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),c=Object(l.a)(s,2),i=c[0],j=c[1],p=Object(r.useState)([]),b=Object(l.a)(p,2),m=b[0],O=b[1],x=Object(f.h)().companyHandle,v=Object(r.useContext)(h),g=v.currentUser,y=v.updateCurrentUser;Object(r.useEffect)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getCompaniesJobs(x);case 2:t=e.sent,j(t.company.jobs),O(t.company),y(),a(!1);case 7:case"end":return e.stop()}}),e)}))),[]);var N=i.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(L,{job:e,currentUser:g})},Object(T.a)())}));return n?Object(d.jsx)("div",{children:"Loading ..."}):Object(d.jsx)("div",{className:"CompaniesJobs background",children:Object(d.jsxs)("div",{className:"col-md-8 offset-md-2 ",children:[Object(d.jsxs)("div",{className:"Company-info m-4",children:[Object(d.jsx)("h3",{children:m.name}),Object(d.jsx)("p",{children:m.description})]}),Object(d.jsx)("div",{className:"CompaniesJobs-listings m-4",children:N})]})})}),I=function(e){var t=e.type,n=void 0===t?"danger":t,r=e.messages.map((function(e){return Object(d.jsx)("p",{className:"m-0 small",children:e},e)}));return Object(d.jsx)("div",{className:"alert alert-".concat(n," Login-error"),role:"alert",children:r})},H=n(311),M=n(312),R=(n(192),function(e){var t=e.login,n=Object(r.useState)({username:"",password:""}),a=Object(l.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(null),j=Object(l.a)(i,2),p=j[0],b=j[1];Object(f.g)();function m(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(J.a)({},n,r))}))}var h=function(){var e=Object(o.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(s);case 3:(r=e.sent).success||(console.log(r.err),b((function(){return r.err})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"Login",children:Object(d.jsxs)("div",{className:"Login-block",children:[Object(d.jsx)("h4",{className:"Login-title",children:"Log In"}),Object(d.jsxs)(H.a,{className:"Login-form",onSubmit:h,children:[Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"Login-input",type:"text",name:"username",id:"username",value:FormData.username,onChange:m,required:!0})]}),Object(d.jsx)("br",{}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"Login-input",type:"password",name:"password",id:"password",value:FormData.password,onChange:m,required:!0}),Object(d.jsx)("br",{})]}),p?Object(d.jsx)(I,{type:"danger",messages:p}):null,Object(d.jsx)(y.a,{size:"sm",color:"primary",className:"Login-btn",children:"Submit"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]})]})})}),W=(n(91),function(e){var t=e.signUp,n=Object(r.useState)({username:"",password:"",firstName:"",lastName:"",email:""}),a=Object(l.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(null),j=Object(l.a)(i,2),p=j[0],b=j[1];function m(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(J.a)({},n,r))}))}var h=function(){var e=Object(o.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(s);case 3:(r=e.sent).success||(console.log(r.err),b((function(){return r.err})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"SignUp",children:Object(d.jsxs)("div",{className:"SignUp-block",children:[Object(d.jsx)("h4",{className:"SignUp-title",children:"Sign Up"}),Object(d.jsxs)(H.a,{className:"SignUp-form",onSubmit:h,children:[Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"text",name:"username",id:"username",value:FormData.username,onChange:m,required:!0}),Object(d.jsx)("br",{})]}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"password",name:"password",id:"password",value:FormData.password,onChange:m,required:!0}),Object(d.jsx)("br",{})]}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"text",name:"firstName",id:"firstName",value:FormData.firstName,onChange:m,required:!0})]}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"text",name:"lastName",id:"lastName",value:FormData.lastName,onChange:m,required:!0})]}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"text",name:"email",id:"email",value:FormData.email,onChange:m,required:!0})]}),p?Object(d.jsx)(I,{type:"danger",messages:p}):null,Object(d.jsx)(y.a,{size:"sm",color:"primary",className:"SignUp-btn",children:"Submit"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]})]})})}),$=function(){var e=Object(r.useContext)(h),t=e.currentUser,n=e.updateProfile,a=Object(r.useState)(null),s=Object(l.a)(a,2),c=s[0],i=s[1],j={username:t.username,password:"",firstName:t.firstName,lastName:t.lastName,email:t.email},p=Object(r.useState)((function(){return j})),b=Object(l.a)(p,2),m=b[0],O=b[1];function f(e){var t=e.target,n=t.name,r=t.value;O((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(J.a)({},n,r))})),console.log(m)}console.log("DATA",m);var x=function(){var e=Object(o.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n(m);case 3:(r=e.sent).success?console.log(r.success):(i(r.err),console.log(r.err));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"SignUp",children:Object(d.jsxs)("div",{className:"SignUp-block",children:[Object(d.jsx)("h4",{className:"SignUp-title",children:"User Profile"}),Object(d.jsxs)(H.a,{className:"SignUp-form",onSubmit:x,children:[Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{children:m.username})]}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"text",name:"firstName",id:"firstName",placeholder:m.firstName,value:FormData.firstName,onChange:f})]}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"text",name:"lastName",id:"lastName",placeholder:m.lastName,value:FormData.lastName,onChange:f})]}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"text",name:"email",id:"email",placeholder:m.email,value:FormData.email,onChange:f})]}),Object(d.jsxs)(M.a,{children:[Object(d.jsx)("label",{htmlFor:"password",children:"Confirm password to make changes: "}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"SignUp-input",type:"password",name:"password",id:"password",value:FormData.password,onChange:f,required:!0}),Object(d.jsx)("br",{})]}),c?Object(d.jsx)(I,{type:"danger",messages:c}):null,Object(d.jsx)(y.a,{size:"sm",color:"primary","text-align":"center",className:"SignUp-btn",children:"Save Changes"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]})]})})},G=function(e){var t=e.Component;return localStorage.getItem("token")?Object(d.jsx)(t,{}):Object(d.jsx)(f.a,{to:{pathname:"/login"}})},K=n(154),Q=n.n(K);var V=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(localStorage.getItem("token")||null),c=Object(l.a)(s,2),i=c[0],j=c[1],p=Object(r.useState)(!0),b=Object(l.a)(p,2),m=b[0],x=b[1],v=Object(f.g)();function g(){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i){e.next=8;break}return t=Q.a.decode(i),n=t.username,e.next=5,q.getCurrentUserData(n);case 5:return r=e.sent,a((function(){return r})),e.abrupt("return",{success:!0});case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(0),console.error("Update current user failed",e.t0),a(null),e.abrupt("return",{success:!1,err:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function w(e){localStorage.setItem("token",e)}function k(){return(k=Object(o.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,e.prev=1,e.next=4,q.getToken(n,r);case 4:return a=e.sent,j((function(){return a})),w(a),v.push("/companies"),e.abrupt("return",{success:!0});case 11:return e.prev=11,e.t0=e.catch(1),console.error("Login Failed",e.t0),e.abrupt("return",{success:!1,err:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function S(){return(S=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.clearToken();case 2:a(null),j(null),localStorage.clear(),v.push("/");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(o.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.registerUser(t);case 3:return n=e.sent,j(n),w(n),e.next=8,q.getCurrentUserData(t.username);case 8:return r=e.sent,console.log("RES2",r),a(r),v.push("/companies"),e.abrupt("return",{success:!0});case 15:return e.prev=15,e.t0=e.catch(0),console.error("Sign Up Failed",e.t0),e.abrupt("return",{success:!1,err:e.t0});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function U(){return(U=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.updateProfile(t);case 3:return n=e.sent,a((function(){return n.user})),v.push("/"),e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),console.error("Update Profile Failed",e.t0),e.abrupt("return",{success:!1,err:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function F(){return(F=Object(o.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.apply(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)(Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q.token=i,e.next=3,g();case 3:console.log(n),x(!1);case 5:case"end":return e.stop()}}),e)}))),[i]),m?Object(d.jsx)("div",{children:"Loading ..."}):Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(h.Provider,{value:{currentUser:n,apply:function(e,t){return F.apply(this,arguments)},updateCurrentUser:g,updateProfile:function(e){return U.apply(this,arguments)}},children:[Object(d.jsx)(O,{logOut:function(){return S.apply(this,arguments)}}),Object(d.jsx)("main",{children:Object(d.jsxs)(f.d,{children:[Object(d.jsx)(f.b,{exact:!0,path:"/",children:Object(d.jsx)(N,{})}),Object(d.jsx)(f.b,{exact:!0,path:"/companies",children:Object(d.jsx)(G,{Component:z})}),Object(d.jsx)(f.b,{exact:!0,path:"/jobs",children:Object(d.jsx)(G,{Component:P})}),Object(d.jsx)(f.b,{exact:!0,path:"/companies/:companyHandle",children:Object(d.jsx)(G,{Component:B})}),Object(d.jsx)(f.b,{exact:!0,path:"/login",children:Object(d.jsx)(R,{login:function(e){return k.apply(this,arguments)}})}),Object(d.jsx)(f.b,{exact:!0,path:"/signup",children:Object(d.jsx)(W,{signUp:function(e){return C.apply(this,arguments)}})}),Object(d.jsx)(f.b,{exact:!0,path:"/profile",children:Object(d.jsx)(G,{Component:$})}),Object(d.jsx)(f.a,{to:"/"})]})})]})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,314)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};n(302);c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(j.a,{children:Object(d.jsx)(V,{})})}),document.getElementById("root")),X()},45:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){}},[[303,1,2]]]);
//# sourceMappingURL=main.faf82f30.chunk.js.map